PROPERTIES OF ALGEBRAIC STACKS

04X8
Contents
1. Introduction
2. Conventions and abuse of language
3. Properties of morphisms representable by algebraic spaces
4. Points of algebraic stacks
5. Surjective morphisms
6. Quasi-compact algebraic stacks
7. Properties of algebraic stacks defined by properties of schemes
8. Monomorphisms of algebraic stacks
9. Immersions of algebraic stacks
10. Reduced algebraic stacks
11. Residual gerbes
12. Dimension of a stack
13. Other chapters
References

1
1
3
7
12
12
13
15
16
22
23
28
29
30

1. Introduction
04X9

Please see Algebraic Stacks, Section 1 for a brief introduction to algebraic stacks,
and please read some of that chapter for our foundations of algebraic stacks. The intent is that in that chapter we are careful to distinguish between schemes, algebraic
spaces, algebraic stacks, and starting with this chapter we employ the customary
abuse of language where all of these concepts are used interchangeably.
The goal of this chapter is to introduce some basic notions and properties of algebraic stacks. A fundamental reference for the case of quasi-separated algebraic
stacks with representable diagonal is [LMB00].
2. Conventions and abuse of language

04XA

We choose a big fppf site Schf ppf . All schemes are contained in Schf ppf . And all
rings A considered have the property that Spec(A) is (isomorphic) to an object of
this big site.
We also fix a base scheme S, by the conventions above an element of Schf ppf . The
reader who is only interested in the absolute case can take S = Spec(Z).
Here are our conventions regarding algebraic stacks:
This is a chapter of the Stacks Project, version 1533f4c, compiled on Feb 09, 2016.
1

PROPERTIES OF ALGEBRAIC STACKS

2

(1) When we say algebraic stack we will mean an algebraic stacks over S, i.e.,
a category fibred in groupoids p : X → (Sch/S)f ppf which satisfies the
conditions of Algebraic Stacks, Definition 12.1.
(2) We will say f : X → Y is a morphism of algebraic stacks to indicate a 1morphism of algebraic stacks over S, i.e., a 1-morphism of categories fibred
in groupoids over (Sch/S)f ppf , see Algebraic Stacks, Definition 12.3.
(3) A 2-morphism α : f → g will indicate a 2-morphism in the 2-category of
algebraic stacks over S, see Algebraic Stacks, Definition 12.3.
(4) Given morphisms X → Z and Y → Z of algebraic stacks we abusively call
the 2-fibre product X ×Z Y the fibre product.
(5) We will write X ×S Y for the product of the algebraic stacks X , Y.
(6) We will often abuse notation and say two algebraic stacks X and Y are
isomorphic if they are equivalent in this 2-category.
Here are our conventions regarding algebraic spaces.
(1) If we say X is an algebraic space then we mean that X is an algebraic space
over S, i.e., X is a presheaf on (Sch/S)f ppf which satisfies the conditions
of Spaces, Definition 6.1.
(2) A morphism of algebraic spaces f : X → Y is a morphism of algebraic
spaces over S as defined in Spaces, Definition 6.3.
(3) We will not distinguish between an algebraic space X and the algebraic
stack SX → (Sch/S)f ppf it gives rise to, see Algebraic Stacks, Lemma 13.1.
(4) In particular, a morphism f : X → Y from X to an algebraic stack Y
means a morphism f : SX → Y of algebraic stacks. Similarly for morphisms
Y → X.
(5) Moreover, given an algebraic stack X we say X is an algebraic space to
indicate that X is representable by an algebraic space, see Algebraic Stacks,
Definition 8.1.
(6) We will use the following notational convention: If we indicate an algebraic
stack by a roman capital (such as X, Y, Z, A, B, . . .) then it will be the
case that its inertia stack is trivial, and hence it is an algebraic space, see
Algebraic Stacks, Proposition 13.3.
Here are our conventions regarding schemes.
(1) If we say X is a scheme then we mean that X is a scheme over S, i.e., X
is an object of (Sch/S)f ppf .
(2) By a morphism of schemes we mean a morphism of schemes over S.
(3) We will not distinguish between a scheme X and the algebraic stack SX →
(Sch/S)f ppf it gives rise to, see Algebraic Stacks, Lemma 13.1.
(4) In particular, a morphism f : X → Y from a scheme X to an algebraic
stack Y means a morphism f : SX → Y of algebraic stacks. Similarly for
morphisms Y → X.
(5) Moreover, given an algebraic stack X we say X is a scheme to indicate that
X is representable, see Algebraic Stacks, Section 4.
Here are our conventions regarding morphisms of algebraic stacks:
(1) A morphism f : X → Y of algebraic stacks is representable, or representable
by schemes if for every scheme T and morphism T → Y the fibre product
T ×Y X is a scheme. See Algebraic Stacks, Section 6.

PROPERTIES OF ALGEBRAIC STACKS

3

(2) A morphism f : X → Y of algebraic stacks is representable by algebraic
spaces if for every scheme T and morphism T → Y the fibre product T ×Y X
is an algebraic space. See Algebraic Stacks, Definition 9.1. In this case
Z ×Y X is an algebraic space whenever Z → Y is a morphism whose source
is an algebraic space, see Algebraic Stacks, Lemma 9.8.
Note that every morphism X → Y from an algebraic space to an algebraic stack is
representable by algebraic spaces, see Algebraic Stacks, Lemma 10.11. We will use
this basic result without further mention.
3. Properties of morphisms representable by algebraic spaces
04XB

We will study properties of (arbitrary) morphisms of algebraic stacks in its own
chapter. For morphisms representable by algebraic spaces we know what it means
to be surjective, smooth, or étale, etc. This applies in particular to morphisms
X → Y from algebraic spaces to algebraic stacks. In this section, we recall how
this works, we list the properties to which this applies, and we prove a few easy
lemmas.
Our first lemma says a morphism is representable by algebraic spaces if it is so after
a base change by a flat, locally finitely presented, surjective morphism.

04ZP

Lemma 3.1. Let f : X → Y be a morphism of algebraic stacks. Let W be an
algebraic space and let W → Y be surjective, locally of finite presentation, and flat.
The following are equivalent
(1) f is representable by algebraic spaces, and
(2) W ×Y X is an algebraic space.
Proof. The implication (1) ⇒ (2) is Algebraic Stacks, Lemma 9.8. Conversely, let
W → Y be as in (2). To prove (1) it suffices to show that f is faithful on fibre
categories, see Algebraic Stacks, Lemma 15.2. Assumption (2) implies in particular
that W ×Y X → W is faithful. Hence the faithfulness of f follows from Stacks,
Lemma 6.9.

Let P be a property of morphisms of algebraic spaces which is fppf local on the
target and preserved by arbitrary base change. Let f : X → Y be a morphism of
algebraic stacks representable by algebraic spaces. Then we say f has property P
if and only if for every scheme T and morphism T → Y the morphism of algebraic
spaces T ×Y X → T has property P , see Algebraic Stacks, Definition 10.1.
It turns out that if f : X → Y is representable by algebraic spaces and has property
P , then for any morphism of algebraic stacks Y 0 → Y the base change Y 0 ×Y X → Y 0
has property P , see Algebraic Stacks, Lemmas 9.7 and 10.6. If the property P is
preserved under compositions, then this holds also in the setting of morphisms of
algebraic stacks representable by algebraic spaces, see Algebraic Stacks, Lemmas
9.9 and 10.5. Moreover, in this case products X1 × X2 → Y1 × Y2 of morphisms
representable by algebraic spaces having property P have property P, see Algebraic
Stacks, Lemma 10.8.
Finally, if we have two properties P, P 0 of morphisms of algebraic spaces which are
fppf local on the target and preserved by arbitrary base change and if P (f ) ⇒
P 0 (f ) for every morphism f , then the same implication holds for the corresponding
property of morphisms of algebraic stacks representable by algebraic spaces, see

PROPERTIES OF ALGEBRAIC STACKS

4

Algebraic Stacks, Lemma 10.9. We will use this without further mention in the
following and in the following chapters.
The discussion above applies to each of the following properties of morphisms of
algebraic spaces
(1) quasi-compact, see Morphisms of Spaces, Lemma 8.3 and Descent on Spaces,
Lemma 10.1,
(2) quasi-separated, see Morphisms of Spaces, Lemma 4.4 and Descent on
Spaces, Lemma 10.2,
(3) universally closed, see Morphisms of Spaces, Lemma 9.3 and Descent on
Spaces, Lemma 10.3,
(4) universally open, see Morphisms of Spaces, Lemma 6.3 and Descent on
Spaces, Lemma 10.4,
(5) surjective, see Morphisms of Spaces, Lemma 5.5 and Descent on Spaces,
Lemma 10.5,
(6) universally injective, see Morphisms of Spaces, Lemma 19.5 and Descent
on Spaces, Lemma 10.6,
(7) locally of finite type, see Morphisms of Spaces, Lemma 23.3 and Descent
on Spaces, Lemma 10.7,
(8) locally of finite presentation, see Morphisms of Spaces, Lemma 28.3 and
Descent on Spaces, Lemma 10.8,
(9) finite type, see Morphisms of Spaces, Lemma 23.3 and Descent on Spaces,
Lemma 10.9,
(10) finite presentation, see Morphisms of Spaces, Lemma 28.3 and Descent on
Spaces, Lemma 10.10,
(11) flat, see Morphisms of Spaces, Lemma 29.4 and Descent on Spaces, Lemma
10.11,
(12) open immersion, see Morphisms of Spaces, Section 12 and Descent on
Spaces, Lemma 10.12,
(13) isomorphism, see Descent on Spaces, Lemma 10.13,
(14) affine, see Morphisms of Spaces, Lemma 20.5 and Descent on Spaces, Lemma
10.14,
(15) closed immersion, see Morphisms of Spaces, Section 12 and Descent on
Spaces, Lemma 10.15,
(16) separated, see Morphisms of Spaces, Lemma 4.4 and Descent on Spaces,
Lemma 10.16,
(17) proper, see Morphisms of Spaces, Lemma 39.3 and Descent on Spaces,
Lemma 10.17,
(18) quasi-affine, see Morphisms of Spaces, Lemma 21.5 and Descent on Spaces,
Lemma 10.18,
(19) integral, see Morphisms of Spaces, Lemma 43.5 and Descent on Spaces,
Lemma 10.20,
(20) finite, see Morphisms of Spaces, Lemma 43.5 and Descent on Spaces, Lemma
10.21,
(21) (locally) quasi-finite, see Morphisms of Spaces, Lemma 27.4 and Descent
on Spaces, Lemma 10.22,
(22) syntomic, see Morphisms of Spaces, Lemma 35.3 and Descent on Spaces,
Lemma 10.23,

PROPERTIES OF ALGEBRAIC STACKS

5

(23) smooth, see Morphisms of Spaces, Lemma 36.3 and Descent on Spaces,
Lemma 10.24,
(24) unramified, see Morphisms of Spaces, Lemma 37.4 and Descent on Spaces,
Lemma 10.25,
(25) étale, see Morphisms of Spaces, Lemma 38.4 and Descent on Spaces, Lemma
10.26,
(26) finite locally free, see Morphisms of Spaces, Lemma 44.5 and Descent on
Spaces, Lemma 10.27,
(27) monomorphism, see Morphisms of Spaces, Lemma 10.5 and Descent on
Spaces, Lemma 10.28,
(28) immersion, see Morphisms of Spaces, Section 12 and Descent on Spaces,
Lemma 11.1,
(29) locally separated, see Morphisms of Spaces, Lemma 4.4 and Descent on
Spaces, Lemma 11.2,
04XC

Lemma 3.2. Let P be a property of morphisms of algebraic spaces as above. Let
f : X → Y be a morphism of algebraic stacks representable by algebraic spaces. The
following are equivalent:
(1) f has P ,
(2) for every algebraic space Z and morphism Z → Y the morphism Z ×Y X →
Z has P .
Proof. The implication (2) ⇒ (1) is immediate. Assume (1). Let Z → Y be as in
(2). Choose a scheme U and a surjective étale morphism U → Z. By assumption
the morphism U ×Y X → U has P . But the diagram
/ Z ×Y X
U ×Y X

U


/Z

is cartesian, hence the right vertical arrow has P as {U → Z} is an fppf covering.



The following lemma tells us it suffices to check P after a base change by a surjective,
flat, locally finitely presented morphism.
04XD

Lemma 3.3. Let P be a property of morphisms of algebraic spaces as above. Let
f : X → Y be a morphism of algebraic stacks representable by algebraic spaces. Let
W be an algebraic space and let W → Y be surjective, locally of finite presentation,
and flat. Set V = W ×Y X . Then
(f has P ) ⇔ (the projection V → W has P ).
Proof. The implication from left to right follows from Lemma 3.2. Assume V →
W has P . Let T be a scheme, and let T → Y be a morphism. Consider the
commutative diagram
/W
T ×Y X o
T ×Y W

T o


T ×Y V


/V

of algebraic spaces. The squares are cartesian. The bottom left morphism is a
surjective, flat morphism which is locally of finite presentation, hence {T ×Y V → T }

PROPERTIES OF ALGEBRAIC STACKS

6

is an fppf covering. Hence the fact that the right vertical arrow has property P
implies that the left vertical arrow has property P .

06TY

Lemma 3.4. Let P be a property of morphisms of algebraic spaces as above. Let
f : X → Y be a morphism of algebraic stacks representable by algebraic spaces.
Let Z → Y be a morphism of algebraic stacks which is representable by algebraic
spaces, surjective, flat, and locally of finite presentation. Set W = Z ×Y X . Then
(f has P ) ⇔ (the projection W → Z has P ).
Proof. Choose an algebraic space W and a morphism W → Z which is surjective,
flat, and locally of finite presentation. By the discussion above the composition
W → Y is also surjective, flat, and locally of finite presentation. Denote V =
W ×Z W = V ×Y X . By Lemma 3.3 we see that f has P if and only if V → W
does and that W → Z has P if and only if V → W does. The lemma follows. 

06M2

Lemma 3.5. Let P be a property of morphisms of algebraic spaces as above. Let
X → Y and Y → Z be morphisms of algebraic stacks representable by algebraic
spaces. Assume
(1) X → Y is surjective, flat, and locally of finite presentation,
(2) the composition has P , and
(3) P is local on the source in the fppf topology.
Then Y → Z has property P .
Proof. Let Z be a scheme and let Z → Z be a morphism. Set X = X ×Z Z,
Y = Y ×Z Z. By (1) {X → Y } is an fppf covering of algebraic spaces and by (2)
X → Z has property P . By (3) this implies that Y → Z has property P and we
win.


04Y6

Lemma 3.6. Let g : X 0 → X be a morphism of algebraic stacks which is representable by algebraic spaces. Let [U/R] → X be a presentation. Set U 0 = U ×X X 0 ,
and R0 = R ×X X 0 . Then there exists a groupoid in algebraic spaces of the form
(U 0 , R0 , s0 , t0 , c0 ), a presentation [U 0 /R0 ] → X 0 , and the diagram
[U 0 /R0 ]

/ X0
g

[pr]


[U/R]


/X

is 2-commutative where the morphism [pr] comes from a morphism of groupoids
pr : (U 0 , R0 , s0 , t0 , c0 ) → (U, R, s, t, c).
Proof. Since U → Y is surjective and smooth, see Algebraic Stacks, Lemma 17.2
the base change U 0 → X 0 is also surjective and smooth. Hence, by Algebraic
Stacks, Lemma 16.2 it suffices to show that R0 = U 0 ×X 0 U 0 in order to get a
smooth groupoid (U 0 , R0 , s0 , t0 , c0 ) and a presentation [U 0 /R0 ] → X 0 . Using that
R = V ×Y V (see Groupoids in Spaces, Lemma 21.2) this follows from
R0 = U ×X U ×X X 0 = (U ×X X 0 ) ×X 0 (U ×X X 0 )
see Categories, Lemmas 30.8 and 30.10. Clearly the projection morphisms U 0 →
U and R0 → R give the desired morphism of groupoids pr : (U 0 , R0 , s0 , t0 , c0 ) →
(U, R, s, t, c). Hence the morphism [pr] of quotient stacks by Groupoids in Spaces,
Lemma 20.1.

PROPERTIES OF ALGEBRAIC STACKS

7

We still have to show that the diagram 2-commutes. It is clear that the diagram
U0
prU


U

f0

f

/ X0

/X

g

2-commutes where prU : U 0 → U is the projection. There is a canonical 2-arrow
τ : f ◦t → f ◦s in Mor(R, X ) coming from R = U ×X U , t = pr0 , and s = pr1 . Using
the isomorphism R0 → U 0 ×X 0 U 0 we get similarly an isomorphism τ 0 : f 0 ◦t0 → f 0 ◦s0 .
Note that g ◦ f 0 ◦ t0 = f ◦ t ◦ prR and g ◦ f 0 ◦ s0 = f ◦ s ◦ prR , where prR : R0 → R
is the projection. Thus it makes sense to ask if
04Y7

τ ? idprR = idg ? τ 0 .

(3.6.1)

Now we make two claims: (1) if Equation (3.6.1) holds, then the diagram 2commutes, and (2) Equation (3.6.1) holds. We omit the proof of both claims.
0
Hints: part (1) follows from the construction of f = fcan and f 0 = fcan
in Algebraic Stacks, Lemma 16.1. Part (2) follows by carefuly working through the
definitions.

04ZQ

Remark 3.7. Let Y be an algebraic stack. Consider the following 2-category:
(1) An object is a morphism f : X → Y which is representable by algebraic
spaces,
(2) a 1-morphism (g, β) : (f1 : X1 → Y) → (f2 : X2 → Y) consists of a
morphism g : X1 → X2 and a 2-morphism β : f1 → f2 ◦ g, and
(3) a 2-morphism between (g, β), (g 0 , β 0 ) : (f1 : X1 → Y) → (f2 : X2 → Y) is a
2-morphism α : g → g 0 such that (idf2 ? α) ◦ β = β 0 .
Let us denote this 2-category Spaces/Y by analogy with the notation of Topologies
on Spaces, Section 2. Now we claim that in this 2-category the morphism categories
MorSpaces/Y ((f1 : X1 → Y), (f2 : X2 → Y))
are all setoids. Namely, a 2-morphism α is a rule which to each object x1 of X1
assigns an isomorphism αx1 : g(x1 ) −→ g 0 (x1 ) in the relevant fibre category of X2
such that the diagram
f2 (x1 )
0
βx

βx1

y
f2 (g(x1 ))

f2 (αx1 )

1

%
/ f2 (g 0 (x1 ))

commutes. But since f2 is faithful (see Algebraic Stacks, Lemma 15.2) this means
that if αx1 exists, then it is unique! In other words the 2-category Spaces/Y is
very close to being a category. Namely, if we replace 1-morphisms by isomorphism
classes of 1-morphisms we obtain a category. We will often perform this replacement
without further mention.
4. Points of algebraic stacks
04XE

PROPERTIES OF ALGEBRAIC STACKS

8

Let X be an algebraic stack. Let K, L be two fields and let p : Spec(K) → X and
q : Spec(L) → X be morphisms. We say that p and q are equivalent if there exists
a field Ω and a 2-commutative diagram
/ Spec(L)

Spec(Ω)

q


Spec(K)
04XF

p


/ X.

Lemma 4.1. The notion above does indeed define an equivalence relation on morphisms from spectra of fields into the algebraic stack X .
Proof. It is clear that the relation is reflexive and symmetric. Hence we have to
prove that it is transitive. This comes down to the following: Given a diagram
Spec(Ω)

b

/ Spec(L) o

b0

q

a


Spec(K)

p


/X o

Spec(Ω0 )
a0

p

0


Spec(K 0 )

with both squares 2-commutative we have to show that p is equivalent to p0 . By
the 2-Yoneda lemma (see Algebraic Stacks, Section 5) the morphisms p, p0 , and
q are given by objects x, x0 , and y in the fibre categories of X over Spec(K),
Spec(K 0 ), and Spec(L). The 2-commutativity of the squares means that there are
isomorphisms α : a∗ x → b∗ y and α0 : (a0 )∗ x0 → (b0 )∗ y in the fibre categories of
X over Spec(Ω) and Spec(Ω0 ). Choose any field Ω00 and embeddings Ω → Ω00 and
Ω0 → Ω00 agreeing on L. Then we can extend the diagram above to
Spec(Ω00 )
c

x
Spec(Ω)

b


/ Spec(L) o

c0

0

b

q

a


Spec(K)

q0

p


/X o

&
Spec(Ω0 )
a0

p

0


Spec(K 0 )

with commutative triangles and
(q 0 )∗ (α0 )−1 ◦ (q 0 )∗ α : (a ◦ c)∗ x −→ (a0 ◦ c0 )∗ x0
is an isomorphism in the fibre category over Spec(Ω00 ). Hence p is equivalent to p0
as desired.

04XG

Definition 4.2. Let X be an algebraic stack. A point of X is an equivalence class
of morphisms from spectra of fields into X . The set of points of X is denoted |X |.
This agrees with our definition of points of algebraic spaces, see Properties of
Spaces, Definition 4.1. Moreover, for a scheme we recover the usual notion of
points, see Properties of Spaces, Lemma 4.2. If f : X → Y is a morphism of
algebraic stacks then there is an induced map |f | : |X | → |Y| which maps a representative x : Spec(K) → X to the representative f ◦ x : Spec(K) → Y. This is well

PROPERTIES OF ALGEBRAIC STACKS

9

defined: namely 2-isomorphic 1-morphisms remain 2-isomorphic after pre- or postcomposing by a 1-morphism because you can horizontally pre- or post-compose by
the identity of the given 1-morphism. This holds in any (strict) (2, 1)-category. If
X

/Y


W


/Z

is a 2-commutative diagram of algebraic stacks, then the diagram of sets
|X |

/ |Y|


|W|


/ |Z|

is commutative. In particular, if X → Y is an equivalence then |X | → |Y| is a
bijection.
04XH

Lemma 4.3. Let
Z ×Y X

/X


Z


/Y

be a fibre product of algebraic stacks. Then the map of sets of points
|Z ×Y X | −→ |Z| ×|Y| |X |
is surjective.
Proof. Namely, suppose given fields K, L and morphisms Spec(K) → X , Spec(L) →
Z, then the assumption that they agree as elements of |Y| means that there is a
common extension K ⊂ M and L ⊂ M such that Spec(M ) → Spec(K) → X → Y
and Spec(M ) → Spec(L) → Z → Y are 2-isomorphic. And this is exactly the
condition which says you get a morphism Spec(M ) → Z ×Y X .

04XI

Lemma 4.4. Let f : X → Y be a morphism of algebraic stacks which is representable by algebraic spaces. The following are equivalent:
(1) |f | : |X | → |Y| is surjective, and
(2) f is surjective.
Proof. Assume (1). Let T → Y be a morphism whose source is a scheme. To
prove (2) we have to show that the morphism of algebraic spaces T ×Y X → T
is surjective. By Morphisms of Spaces, Definition 5.2 this means we have to show
that |T ×Y X | → |T | is surjective. Applying Lemma 4.3 we see that this follows
from (1).
Conversely, assume (2). Let y : Spec(K) → Y be a morphism from the spectrum
of a field into Y. By assumption the morphism Spec(K) ×y,Y X → Spec(K) of
algebraic spaces is surjective. By Morphisms of Spaces, Definition 5.2 this means

PROPERTIES OF ALGEBRAIC STACKS

10

there exists a field extension K ⊂ K 0 and a morphism Spec(K 0 ) → Spec(K) ×y,Y X
such that the left square of the diagram
Spec(K 0 )

/ Spec(K) ×y,Y X


Spec(K)


Spec(K)

/X

y

is commutative. This shows that |X| → |Y| is surjective.


/Y


Here is a lemma explaining how to compute the set of points in terms of a presentation.
04XJ

Lemma 4.5. Let X be an algebraic stack. Let X = [U/R] be a presentation of
X , see Algebraic Stacks, Definition 16.5. Then the image of |R| → |U | × |U | is an
equivalence relation and |X | is the quotient of |U | by this equivalence relation.
Proof. The assumption means that we have a smooth groupoid (U, R, s, t, c) in
algebraic spaces, and an equivalence f : [U/R] → X . We may assume X = [U/R].
The induced morphism p : U → X is smooth and surjective, see Algebraic Stacks,
Lemma 17.2. Hence |U | → |X | is surjective by Lemma 4.4. Note that R = U ×X U ,
see Groupoids in Spaces, Lemma 21.2. Hence Lemma 4.3 implies the map
|R| −→ |U | ×|X | |U |
is surjective. Hence the image of |R| → |U |×|U | is exactly the set of pairs (u1 , u2 ) ∈
|U | × |U | such that u1 and u2 have the same image in |X |. Combining these two
statements we get the result of the lemma.


04XK

Remark 4.6. The result of Lemma 4.5 can be generalized as follows. Let X be
an algebraic stack. Let U be an algebraic space and let f : U → X be a surjective
morphism (which makes sense by Section 3). Let R = U ×X U , let (U, R, s, t, c)
be the groupoid in algebraic spaces, and let fcan : [U/R] → X be the canonical
morphism as constructed in Algebraic Stacks, Lemma 16.1. Then the image of
|R| → |U | × |U | is an equivalence relation and |X | = |U |/|R|. The proof of Lemma
4.5 works without change. (Of course in general [U/R] is not an algebraic stack,
and in general fcan is not an isomorphism.)

04XL

Lemma 4.7. There exists a unique topology on the sets of points of algebraic
stacks with the following properties:
(1) for every morphism of algebraic stacks X → Y the map |X | → |Y| is
continuous, and
(2) for every morphism U → X which is flat and locally of finite presentation with U an algebraic space the map of topological spaces |U | → |X | is
continuous and open.
Proof. Choose a morphism p : U → X which is surjective, flat, and locally of
finite presentation with U an algebraic space. Such exist by the definition of an
algebraic stack, as a smooth morphism is flat and locally of finite presentation (see
Morphisms of Spaces, Lemmas 36.5 and 36.7). We define a topology on |X | by
the rule: W ⊂ |X | is open if and only if |p|−1 (W ) is open in |U |. To show that
this is independent of the choice of p, let p0 : U 0 → X be another morphism which

PROPERTIES OF ALGEBRAIC STACKS

11

is surjective, flat, locally of finite presentation from an algebraic space to X . Set
U 00 = U ×X U 0 so that we have a 2-commutative diagram
U 00

/ U0


U


/X

As U → X and U 0 → X are surjective, flat, locally of finite presentation we see
that U 00 → U 0 and U 00 → U are surjective, flat and locally of finite presentation, see
Lemma 3.2. Hence the maps |U 00 | → |U 0 | and |U 00 | → |U | are continuous, open and
surjective, see Morphisms of Spaces, Definition 5.2 and Lemma 29.6. This clearly
implies that our definition is independent of the choice of p : U → X .
Let f : X → Y be a morphism of algebraic stacks. By Algebraic Stacks, Lemma
15.1 we can find a 2-commutative diagram
U

/V

a

x


X


/Y

f

y

with surjective smooth vertical arrows. Consider the associated commutative diagram
/ |V |
|U |
|a|

|x|


|X |

|y|


/ |Y|

|f |

of sets. If W ⊂ |Y| is open, then by the definition above this means exactly that
|y|−1 (W ) is open in |V |. Since |a| is continuous we conclude that |a|−1 |y|−1 (W ) =
|x|−1 |f |−1 (W ) is open in |W | which means by definition that |f |−1 (W ) is open in
|X |. Thus |f | is continuous.
Finally, we have to show that if U is an algebraic space, and U → X is flat and
locally of finite presentation, then |U | → |X | is open. Let V → X be surjective,
flat, and locally of finite presentation with V an algebraic space. Consider the
commutative diagram
|U ×X V |

e

/ |U | ×|X | |V |

d

c

f

& 
|U |

/ |V |
b

a


/ |X |

Now the morphism U ×X V → U is surjective, i.e, f : |U ×X V | → |U | is surjective.
The left top horizontal arrow is surjective, see Lemma 4.3. The morphism U ×X V →
V is flat and locally of finite presentation, hence d ◦ e : |U ×X V | → |V | is open,
see Morphisms of Spaces, Lemma 29.6. Pick W ⊂ |U | open. The properties above
imply that b−1 (a(W )) = (d ◦ e)(f −1 (W )) is open, which by construction means
that a(W ) is open as desired.

04Y8

Definition 4.8. Let X be an algebraic stack. The underlying topological space of
X is the set of points |X | endowed with the topology constructed in Lemma 4.7.

PROPERTIES OF ALGEBRAIC STACKS

12

This definition does not conflict with the already existing topology on |X | if X is
an algebraic space.
04Y9

Lemma 4.9. Let X be an algebraic stack. Every point of |X | has a fundamental
system of quasi-compact open neighbourhoods. In particular |X | is locally quasicompact in the sense of Topology, Definition 12.1.
Proof. This follows formally from the fact that there exists a scheme U and a
surjective, open, continuous map U → |X | of topological spaces. Namely, if U → X
is surjective and smooth, then Lemma 4.7 guarantees that |U | → |X | is continuous,
surjective, and open.

5. Surjective morphisms

04ZR

Let f : X → Y be a morphism of algebraic stacks which is representable by algebraic
spaces. In Section 3 we have already defined what it means for f to be surjective.
In Lemma 4.4 we have seen that this is equivalent to requiring |f | : |X | → |Y| to
be surjective. This clears the way for the following definition.

04ZS

Definition 5.1. Let f : X → Y be a morphism of algebraic stacks. We say f is
surjective if the map |f | : |X | → |Y| of associated topological spaces is surjective.
Here are some lemmas.

04ZT

Lemma 5.2. The composition of surjective morphisms is surjective.
Proof. Omitted.

04ZU



Lemma 5.3. The base change of a surjective morphism is surjective.
Proof. Omitted. Hint: Use Lemma 4.3.

06PM

Lemma 5.4. Let f : X → Y be a morphism of algebraic stacks. Let Y → Y be a
surjective morphism of algebraic stacks. If the base change f 0 : Y 0 ×Y X → Y 0 of f
is surjective, then f is surjective.
Proof. Immediate from Lemma 4.3.

06PN


0



Lemma 5.5. Let X → Y → Z be morphisms of algebraic stacks. If X → Z is
surjective so is Y → Z.
Proof. Immediate.


6. Quasi-compact algebraic stacks

04YA

The following definition is equivalent with the definition for algebraic spaces by
Properties of Spaces, Lemma 5.2.

04YB

Definition 6.1. Let X be an algebraic stack. We say X is quasi-compact if and
only if |X | is quasi-compact.

04YC

Lemma 6.2. Let X be an algebraic stack. The following are equivalent:
(1) X is quasi-compact,
(2) there exists a surjective smooth morphism U → X with U a quasi-compact
scheme,
(3) there exists a surjective smooth morphism U → X with U a quasi-compact
algebraic space, and

PROPERTIES OF ALGEBRAIC STACKS

13

(4) there exists a surjective morphism U → X of algebraic stacks such that U
is quasi-compact.
Proof. We will use Lemma 4.4. Suppose U and U → X are as in (4). Then since
|U| → |X | is surjective and continuous we conclude that |X | is quasi-compact. Thus
(4) implies (1). The implications (2) ⇒ (3) ⇒ (4) are immediate. Assume (1), i.e.,
X is quasi-compact, i.e., that |X | is quasi-compact. Choose a scheme U and a
surjective smooth morphism U → X . Then since |U | → |X | is open we see that
there exists a quasi-compact open U 0 ⊂ U such that |U 0 | → |X| is surjective (and
still smooth). Hence (2) holds.

04YD

Lemma 6.3. A finite disjoint union of quasi-compact algebraic stacks is a quasicompact algebraic stack.
Proof. This is clear from the corresponding topological fact.



7. Properties of algebraic stacks defined by properties of schemes
04YE

Any smooth local property of schemes gives rise to a corresponding property of
algebraic stacks via the following lemma. Note that a property of schemes which
is smooth local is also étale local as any étale covering is also a smooth covering.
Hence for a smooth local property P of schemes we know what it means to say that
an algebraic space has P , see Properties of Spaces, Section 7.

04YF

Lemma 7.1. Let P be a property of schemes which is local in the smooth topology, see Descent, Definition 11.1. Let X be an algebraic stack. The following are
equivalent
(1) for some scheme U and some surjective smooth morphism U → X the
scheme U has property P,
(2) for every scheme U and every smooth morphism U → X the scheme U has
property P,
(3) for some algebraic space U and some surjective smooth morphism U → X
the algebraic space U has property P, and
(4) for every algebraic space U and every smooth morphism U → X the algebraic space U has property P.
If X is a scheme this is equivalent to P(U ). If X is an algebraic space this is
equivalent to X having property P.
Proof. Let U → X surjective and smooth with U an algebraic space. Let V → X
be a smooth morphism with V an algebraic space. Choose schemes U 0 and V 0 and
surjective étale morphisms U 0 → U and V 0 → V . Finally, choose a scheme W and a
surjective étale morphism W → V 0 ×X U 0 . Then W → V 0 and W → U 0 are smooth
morphisms of schemes as compositions of étale and smooth morphisms of algebraic
spaces, see Morphisms of Spaces, Lemmas 38.6 and 36.2. Moreover, W → V 0 is
surjective as U 0 → X is surjective. Hence, we have
P(U ) ⇔ P(U 0 ) ⇒ P(W ) ⇒ P(V 0 ) ⇔ P(V )
where the equivalences are by definition of property P for algebraic spaces, and the
two implications come from Descent, Definition 11.1. This proves (3) ⇒ (4).
The implications (2) ⇒ (1), (1) ⇒ (3), and (4) ⇒ (2) are immediate.



PROPERTIES OF ALGEBRAIC STACKS

14

04YG

Definition 7.2. Let X be an algebraic stack. Let P be a property of schemes
which is local in the smooth topology. We say X has property P if any of the
equivalent conditions of Lemma 7.1 hold.

04YH

Remark 7.3. Here is a list of properties which are local for the smooth topology
(keep in mind that the fpqc, fppf, and syntomic topologies are stronger than the
smooth topology):
(1) locally Noetherian, see Descent, Lemma 12.1,
(2) Jacobson, see Descent, Lemma 12.2,
(3) locally Noetherian and (Sk ), see Descent, Lemma 13.1,
(4) Cohen-Macaulay, see Descent, Lemma 13.2,
(5) reduced, see Descent, Lemma 14.1,
(6) normal, see Descent, Lemma 14.2,
(7) locally Noetherian and (Rk ), see Descent, Lemma 14.3,
(8) regular, see Descent, Lemma 14.4,
(9) Nagata, see Descent, Lemma 14.5.
Any smooth local property of germs of schemes gives rise to a corresponding property of algebraic stacks. Note that a property of germs which is smooth local is
also étale local. Hence for a smooth local property of germs of schemes P we know
what it means to say that an algebraic space X has property P at x ∈ |X|, see
Properties of Spaces, Section 7.

04YI

Lemma 7.4. Let X be an algebraic stack. Let x ∈ |X | be a point of X . Let P be
a property of germs of schemes which is smooth local, see Descent, Definition 17.1.
The following are equivalent
(1) for any smooth morphism U → X with U a scheme and u ∈ U with a(u) = x
we have P(U, u),
(2) for some smooth morphism U → X with U a scheme and some u ∈ U with
a(u) = x we have P(U, u),
(3) for any smooth morphism U → X with U an algebraic space and u ∈ |U |
with a(u) = x the algebraic space U has property P at u, and
(4) for some smooth morphism U → X with U a an algebraic space and some
u ∈ |U | with a(u) = x the algebraic space U has property P at u.
If X is representable, then this is equivalent to P(X , x). If X is an algebraic space
then this is equivalent to X having property P at x.
Proof. Let a : U → X and u ∈ |U | as in (3). Let b : V → X be another smooth
morphism with V an algebraic space and v ∈ |V | with b(v) = x also. Choose a
scheme U 0 , an étale morphism U 0 → U and u0 ∈ U 0 mapping to u. Choose a scheme
V 0 , an étale morphism V 0 → V and v 0 ∈ V 0 mapping to v. By Lemma 4.3 there
exists a point w ∈ |V 0 ×X U 0 | mapping to u0 and v 0 . Choose a scheme W and a
surjective étale morphism W → V 0 ×X U 0 . We may choose a w ∈ |W | mapping to
w (see Properties of Spaces, Lemma 4.4). Then W → V 0 and W → U 0 are smooth
morphisms of schemes as compositions of étale and smooth morphisms of algebraic
spaces, see Morphisms of Spaces, Lemmas 38.6 and 36.2. Hence
P(U, u) ⇔ P(U 0 , u0 ) ⇔ P(W, w) ⇔ P(V 0 , v 0 ) ⇔ P(V, v)
The outer two equivalences by Properties of Spaces, Definition 7.5 and the other
two by what it means to be a smooth local property of germs of schemes. This
proves (4) ⇒ (3).

PROPERTIES OF ALGEBRAIC STACKS

The implications (1) ⇒ (2), (2) ⇒ (4), and (3) ⇒ (1) are immediate.
04YJ

15



Definition 7.5. Let P be a property of germs of schemes which is smooth local.
Let X be an algebraic stack. Let x ∈ |X |. We say X has property P at x if any of
the equivalent conditions of Lemma 7.4 holds.
8. Monomorphisms of algebraic stacks

04ZV

We define a monomorphism of algebraic stacks in the following way. We will see
in Lemma 8.4 that this is compatible with the corresponding 2-category theoretic
notion.

04ZW

Definition 8.1. Let f : X → Y be a morphism of algebraic stacks. We say f is
a monomorphism if it is representable by algebraic spaces and a monomorphism in
the sense of Section 3.
First some basic lemmas.

04ZX

Lemma 8.2. Let X → Y be a morphism of algebraic stacks. Let Z → Y be a
monomorphism. Then Z ×Y X → X is a monomorphism.
Proof. This follows from the general discussion in Section 3.

04ZY



Lemma 8.3. Compositions of monomorphisms of algebraic stacks are monomorphisms.
Proof. This follows from the general discussion in Section 3 and Morphisms of
Spaces, Lemma 10.4.


04ZZ

Lemma 8.4. Let f : X → Y be a morphism of algebraic stacks. The following are
equivalent:
(1) f is a monomorphism,
(2) f is fully faithful,
(3) the diagonal ∆f : X → X ×Y X is an equivalence, and
(4) there exists an algebraic space W and a surjective, flat morphism W → Y
which is locally of finite presentation such that V = X ×Y W is an algebraic
space, and the morphism V → W is a monomorphism of algebraic spaces.
Proof. The equivalence of (1) and (4) follows from the general discussion in Section
3 and in particular Lemmas 3.1 and 3.3.
The equivalence of (2) and (3) is Categories, Lemma 34.9.
Assume the equivalent conditions (2) and (3). Then f is representable by algebraic
spaces according to Algebraic Stacks, Lemma 15.2. Moreover, the 2-Yoneda lemma
combined with the fully faithfulness implies that for every scheme T the functor
Mor(T, X ) −→ Mor(T, Y)
is fully faithful. Hence given a morphism y : T → Y there exists up to unique
2-isomorphism at most one morphism x : T → X such that y ∼
= f ◦ x. In particular,
given a morphism of schemes h : T 0 → T there exists at most one lift h̃ : T 0 →
T ×Y X of h. Thus T ×Y X → T is a monomorphism of algebraic spaces, which
proves that (1) holds.
Finally, assume that (1) holds. Then for any scheme T and morphism y : T → Y the
fibre product T ×Y X is an algebraic space, and T ×Y X → T is a monomorphism.

PROPERTIES OF ALGEBRAIC STACKS

16

Hence there exists up to unique isomorphism exactly one pair (x, α) where x : T →
X is a morphism and α : f ◦ x → y is a 2-morphism. Applying the 2-Yoneda lemma
this says exactly that f is fully faithful, i.e., that (2) holds.

0500

Lemma 8.5. A monomorphism of algebraic stacks induces an injective map of
sets of points.
Proof. Let f : X → Y be a monomorphism of algebraic stacks. Suppose that
xi : Spec(Ki ) → X be morphisms such that f ◦x1 and f ◦x2 define the same element
of |Y|. Applying the definition we find a common extension Ω with corresponding
morphisms ci : Spec(Ω) → Spec(Ki ) and a 2-isomorphism β : f ◦x1 ◦c1 → f ◦x1 ◦c2 .
As f is fully faithful, see Lemma 8.4, we can lift β to an isomorphism α : f ◦x1 ◦c1 →
f ◦ x1 ◦ c2 . Hence x1 and x2 define the same point of |X | as desired.

9. Immersions of algebraic stacks

04YK

Immersions of algebraic stacks are defined as follows.

04YL

Definition 9.1. Immersions.
(1) A morphism of algebraic stacks is called an open immersion if it is representable, and an open immersion in the sense of Section 3.
(2) A morphism of algebraic stacks is called a closed immersion if it is representable, and a closed immersion in the sense of Section 3.
(3) A morphism of algebraic stacks is called an immersion if it is representable,
and an immersion in the sense of Section 3.
This is not the most convenient way to think about immersions for us. For us it
is a little bit more convenient to think of an immersion as a morphism of algebraic
stacks which is representable by algebraic spaces and is an immersion in the sense of
Section 3. Similarly for closed and open immersions. Since this is clearly equivalent
to the notion just defined we shall use this characterization without further mention.
We prove a few simple lemmas about this notion.

0501

Lemma 9.2. Let X → Y be a morphism of algebraic stacks. Let Z → Y be
a (closed, resp. open) immersion. Then Z ×Y X → X is a (closed, resp. open)
immersion.
Proof. This follows from the general discussion in Section 3.

0502



Lemma 9.3. Compositions of immersions of algebraic stacks are immersions.
Similarly for closed immersions and open immersions.
Proof. This follows from the general discussion in Section 3 and Spaces, Lemma
12.2.


0503

Lemma 9.4. Let f : X → Y be a morphism of algebraic stacks. let W be an
algebraic space and let W → Y be a surjective, flat morphism which is locally of
finite presentation. The following are equivalent:
(1) f is an (open, resp. closed) immersion, and
(2) V = W ×Y X is an algebraic space, and V → W is an (open, resp. closed)
immersion.
Proof. This follows from the general discussion in Section 3 and in particular
Lemmas 3.1 and 3.3.


PROPERTIES OF ALGEBRAIC STACKS

0504

17

Lemma 9.5. An immersion is a monomorphism.
Proof. See Morphisms of Spaces, Lemma 10.7.



The following two lemmas explain how to think about immersions in terms of
presentations.
0505

Lemma 9.6. Let (U, R, s, t, c) be a smooth groupoid in algebraic spaces. Let i :
Z → [U/R] be an immersion. Then there exists an R-invariant locally closed
subspace Z ⊂ U and a presentation [Z/RZ ] → Z where RZ is the restriction of R
to Z such that
/Z

[Z/RZ ]
}
$
[U/R]

i

is 2-commutative. If i is a closed (resp. open) immersion then Z is a closed (resp.
open) subspace of U .
Proof. By Lemma 3.6 we get a commutative diagram
/Z

[U 0 /R0 ]
$
}
[U/R]

where U 0 = Z ×[U/R] U and R0 = Z ×[U/R] R. Since Z → [U/R] is an immersion
we see that U 0 → U is an immersion of algebraic spaces. Let Z ⊂ U be the locally
closed subspace such that U 0 → U factors through Z and induces an isomorphism
U 0 → Z. It is clear from the construction of R0 that R0 = U 0 ×U,t R = R ×s,U U 0 .
This implies that Z ∼
= U 0 is R-invariant and that the image of R0 → R identifies R0
with the restriction RZ = s−1 (Z) = t−1 (Z) of R to Z. Hence the lemma holds. 
04YN

Lemma 9.7. Let (U, R, s, t, c) be a smooth groupoid in algebraic spaces. Let X =
[U/R] be the associated algebraic stack, see Algebraic Stacks, Theorem 17.3. Let
Z ⊂ U be an R-invariant locally closed subspace. Then
[Z/RZ ] −→ [U/R]
is an immersion of algebraic stacks, where RZ is the restriction of R to Z. If Z ⊂ U
is open (resp. closed) then the morphism is an open (resp. closed) immersion of
algebraic stacks.
Proof. Recall that by Groupoids in Spaces, Definition 17.1 (see also discussion
following the definition) we have RZ = s−1 (Z) = t−1 (Z) as locally closed subspaces
of R. Hence the two morphisms RZ → Z are smooth as base changes of s and t.
Hence (Z, RZ , s|RZ , t|RZ , c|RZ ×s,Z,t RZ ) is a smooth groupoid in algebraic spaces,
and we see that [Z/RZ ] is an algebraic stack, see Algebraic Stacks, Theorem 17.3.
The assumptions of Groupoids in Spaces, Lemma 24.3 are all satisfied and it follows

PROPERTIES OF ALGEBRAIC STACKS

18

that we have a 2-fibre square
Z

/ [Z/RZ ]


U


/ [U/R]

It follows from this and Lemma 3.1 that [Z/RZ ] → [U/R] is representable by
algebraic spaces, whereupon it follows from Lemma 3.3 that the right vertical arrow
is an immersion (resp. closed immersion, resp. open immersion) if and only if the
left vertical arrow is.

We can define open, closed, and locally closed substacks as follows.
04YM

Definition 9.8. Let X be an algebraic stack.
(1) An open substack of X is a strictly full subcategory X 0 ⊂ X such that X 0
is an algebraic stack and X 0 → X is an open immersion.
(2) A closed substack of X is a strictly full subcategory X 0 ⊂ X such that X 0
is an algebraic stack and X 0 → X is a closed immersion.
(3) A locally closed substack of X is a strictly full subcategory X 0 ⊂ X such
that X 0 is an algebraic stack and X 0 → X is an immersion.
This definition should be used with caution. Namely, if f : X → Y is an equivalence
of algebraic stacks and X 0 ⊂ X is an open substack, then it is not necessarily the
case that the subcategory f (X 0 ) is an open substack of Y. The problem is that it
may not be a strictly full subcategory; but this is also the only problem. Here is a
formal statement.

0506

Lemma 9.9. For any immersion i : Z → X there exists a unique locally closed
substack X 0 ⊂ X such that i factors as the composition of an equivalence i0 : Z → X 0
followed by the inclusion morphism X 0 → X . If i is a closed (resp. open) immersion,
then X 0 is a closed (resp. open) substack of X .
Proof. Omitted.

0507



Lemma 9.10. Let [U/R] → X be a presentation of an algebraic stack. There is a
canonical bijection
R-invariant locally closed subspaces Z of U ↔ locally closed substacks Z of X
where if Z corresponds to Z, then [Z/RZ ] → Z is a presentation fitting into a
2-commutative diagram with the given presentation of X . Similarly for closed substacks and open substacks.
Proof. Omitted. Hints: Use Lemma 9.6 to go from right to left and Lemma 9.7
from left to right.


06FJ

Lemma 9.11. Let X be an algebraic stack. The rule U 7→ |U| defines an inclusion
preserving bijection between open substacks of X and open subsets of |X |.
Proof. Choose a presentation [U/R] → X , see Algebraic Stacks, Lemma 16.2. By
Lemma 9.10 we see that open substacks correspond to R-invariant open subschemes
of U . On the other hand Lemmas 4.5 and 4.7 guarantee these correspond bijectively
to open subsets of |X |.


PROPERTIES OF ALGEBRAIC STACKS

05UP

19

Lemma 9.12. Let X be an algebraic stack. Let U be an algebraic space and
U → X a surjective smooth morphism. For an open immersion V ,→ U , there
exists an algebraic stack Y, an open immersion Y → X , and a surjective smooth
morphism V → Y.
Proof. We define a category fibred in groupoids Y by letting the fiber category
YT over an object T of (Sch/S)f ppf be the full subcategory of XT consisting of all
y ∈ Ob(XT ) such that the projection morphism V ×X ,y T → T surjective. Now for
any morphism x : T → X , the 2-fibred product T ×x,X Y has fiber category over
T 0 consisting of triples (f : T 0 → T, y ∈ XT 0 , f ∗ x ' y) such that V ×X ,y T 0 → T 0
is surjective. Note that T ×x,X Y is fibered in setoids since Y → X is faithful (see
Stacks, Lemma 6.7). Now the isomorphism f ∗ x ' y gives the diagram
/ V ×X ,x T

V ×X ,y T 0

T0


/T

f

/V

x


/X

where both squares are cartesian. The morphism V ×X ,x T → T is smooth by base
change, and hence open. Let T0 ⊂ T be its image. From the cartesian squares we
deduce that V ×X ,y T 0 → T 0 is surjective if and only if f lands in T0 . Therefore
T ×x,X Y is representable by T0 , so the inclusion Y → X is an open immersion.
By Algebraic Stacks, Lemma 15.5 we conclude that Y is an algebraic stack. Lastly
if we denote the morphism V → X by g, we have V ×X V → V is surjective (the
diagonal gives a section). Hence g is in the image of YV → XV , i.e., we obtain a
morphism g 0 : V → Y fitting into the commutative diagram
/U

V

Y

g0


/X

Since V ×g,X Y → V is a monomorphism, it is in fact an isomorphism since (1, g 0 )
defines a section. Therefore g 0 : V → Y is a smooth morphism, as it is the base
change of the smooth morphism g : V → X . It is surjective by our construction of
Y which finishes the proof of the lemma.

05UQ

Lemma 9.13. Let X be an algebraic stack and Xi ⊂ X a collection of open
substacks
indexed by i ∈ I. Then there exists an open substack, which we denote
S
X
⊂
X , such that the Xi are open substacks covering it.
i
i∈I
S
Proof. We define a fibred subcategory X 0 = i∈I Xi by letting the fiber category
over an object T of (Sch/S)f ppf be the`full subcategory of XT consisting of all
x ∈ Ob(XT ) such that the morphism i∈I (Xi ×X T ) → T is surjective. Let
xi ∈ Ob((Xi )T ). Then (xi , 1) gives a section of Xi ×X T → T , so we have an
isomorphism. Thus Xi ⊂ X 0 is a full subcategory. Now let x ∈ Ob(XT ). Then
Xi ×X T is representable by an open subscheme Ti ⊂ T . The 2-fibred product
0
0
∗
X 0 ×X
`T has fiber0 over T0 consisting of (y ∈ XT 0 , f : T →∗ T, f x ' y) such
that (Xi ×X ,y T ) → T is surjective. The isomorphism f x ' y induces an
isomorphism Xi ×X ,y T 0 ' Ti ×T T 0 . Then the Ti ×T T 0 cover T 0 if and only if f

PROPERTIES OF ALGEBRAIC STACKS

lands in

S

Ti . Therefore we have a diagram
S
/ Ti
Ti

/T


/ X0


Xi

20


/X

with both squares cartesian. By Algebraic Stacks, Lemma 15.5 we conclude that
X 0 ⊂ X is algebraic and an`open substack. It is also clear from the cartesian squares
above that the morphism i∈I Xi → X 0 which finishes the proof of the lemma. 
05UR

Lemma 9.14. Let X be an algebraic stack and X 0 ⊂ X a quasi-compact open
substack. Suppose that
S we have a collection of open substacks Xi ⊂ X indexed by
i ∈ I such that X 0 ⊂ i∈I Xi , where we define theSunion as in Lemma 9.13. Then
there exists a finite subset I 0 ⊂ I such that X 0 ⊂ i∈I 0 Xi .
Proof. Since X is algebraic, there exists a scheme U with a surjective smooth
morphism U → X . Let Ui ⊂ U be the open subscheme representing Xi ×XSU and
U 0 ⊂ U the open subscheme representing X 0 ×X U . By hypothesis, U 0 ⊂ i∈I Ui .
From the proof of Lemma 6.2, there is a quasi-compact open V ⊂ U 0 such that
V → X 0 is a surjectiveSsmooth morphism. ThereforeSthere exists a finite subset
I 0 ⊂ I such that V ⊂ i∈I 0 Ui . We claim that X 0 ⊂ i∈I 0 Xi . Take x ∈ Ob(XT0 )
for T ∈ Ob((Sch/S)f ppf ). Since X 0 → X is a monomorphism, we have cartesian
squares
/T
T
V ×X T
x

x




/ X0
/X
V
S
By base change, V ×X T → T is surjective. Therefore i∈I 0 Ui ×X T → T is also
surjective. Let Ti ⊂ T be the open subscheme representing Xi ×X T . By a formal
argument, we have a Cartesian square
Ui ×Xi Ti

/ U ×X T


Ti


/T

where the vertical
Since Ui ×Xi Ti ' Ui ×X T ,
S arrows are surjective by base change. S
we find that i∈I 0 Ti = T . Hence x is an object
of
(
i∈I 0 Xi )T by definition of
S
the union. Observe that the inclusion X 0 ⊂ i∈I 0 Xi is automatically an open
substack.

05WE

Lemma 9.15. Let X be an algebraic stack. Let Xi , i ∈ I be a set of open substacks
of X . Assume
S
(1) X = i∈I Xi , and
(2) each Xi is an algebraic space.
Then X is an algebraic space.
`
Proof. Apply Stacks, Lemma 6.10 to the morphism i∈I Xi → X and the morphism id : X → X to see that X is a stack in setoids. Hence X is an algebraic
space, see Algebraic Stacks, Proposition 13.3.


PROPERTIES OF ALGEBRAIC STACKS

05WF

21

Lemma 9.16. Let X be an algebraic stack. Let Xi , i ∈ I be a set of open substacks
of X . Assume
S
(1) X = i∈I Xi , and
(2) each Xi is a scheme
Then X is a scheme.
Proof. By Lemma 9.15 we see that X is an algebraic space. Since any algebraic
space has a largest open subspace which is a scheme, see Properties of Spaces,
Lemma 12.1 we see that X is a scheme.

The following lemma is the analogue of More on Groupoids, Lemma 5.1.

06M3

Lemma 9.17. Let P, Q, R be properties of morphisms of algebraic spaces. Assume
(1) P, Q, R are fppf local on the target and stable under arbitrary base change,
(2) smooth ⇒ R,
(3) for any morphism f : X → Y which has Q there exists a largest open
subspace W (P, f ) ⊂ X such that f |W (P,f ) has P, and
(4) for any morphism f : X → Y which has Q, and any morphism Y 0 → Y
which has R we have Y 0 ×Y W (P, f ) = W (P, f 0 ), where f 0 : XY 0 → Y 0 is
the base change of f .
Let f : X → Y be a morphism of algebraic stacks representable by algebraic spaces.
Assume f has Q. Then
(A) there exists a largest open substack X 0 ⊂ X such that f |X 0 has P, and
(B) if Z → Y is a morphism of algebraic stacks representable by algebraic spaces
which has R then Z ×Y X 0 is the largest open substack of Z ×Y X over which
the base change idZ × f has property P.
Proof. Choose a scheme V and a surjective smooth morphism V → Y. Set U =
V ×Y X and let f 0 : U → V be the base change of f . The morphism of algebraic
spaces f 0 : U → V has property Q. Thus we obtain the open W (P, f 0 ) ⊂ U
by assumption (3). Note that U ×X U = (V ×Y V ) ×Y X hence the morphism
f 00 : U ×X U → V ×Y V is the base change of f via either projection V ×Y V → V .
By our choice of V these projections are smooth, hence have property R by (2).
Thus by (4) we see that the inverse images of W (P, f 0 ) under the two projections
pri : U ×X U → U agree. In other words, W (P, f 0 ) is an R-invariant subspace of U
(where R = U ×X U ). Let X 0 be the open substack of X corresponding to W (P, f )
via Lemma 9.6. By construction W (P, f 0 ) = X 0 ×Y V hence f |X 0 has property P
by Lemma 3.3. Also, X 0 is the largest open substack such that f |X 0 has P as the
same maximality holds for W (P, f ). This proves (A).
Finally, if Z → Y is a morphism of algebraic stacks representable by algebraic
spaces which has R then we set T = V ×Y Z and we see that T → V is a morphism
of algebraic spaces having property R. Set fT0 : T ×V U → T the base change of
f 0 . By (4) again we see that W (P, fT0 ) is the inverse image of W (P, f ) in T ×V U .
This implies (B); some details omitted.


06M4

Remark 9.18. Warning: Lemma 9.17 should be used with care. For example, it
applies to P =“flat”, Q =“empty”, and R =“flat and locally of finite presentation”.
But given a morphism of algebraic spaces f : X → Y the largest open subspace
W ⊂ X such that f |W is flat is not the set of points where f is flat!

PROPERTIES OF ALGEBRAIC STACKS

06M5

06M6

06M7

06M8
06M9

06MA

22

Remark 9.19. Notwithstanding the warning in Remark 9.18 there are some cases
where Lemma 9.17 can be used without causing ambiguity. We give a list. In each
case we omit the verification of assumptions (1) and (2) and we give references
which imply (3) and (4). Here is the list:
(1) Q =“locally of finite type”, R = ∅, and P =“relative dimension ≤ d”. See
Morphisms of Spaces, Definition 32.2 and Morphisms of Spaces, Lemmas
33.4 and 33.3.
(2) Q =“locally of finite type”, R = ∅, and P =“locally quasi-finite”. This is
the case d = 0 of the previous item, see Morphisms of Spaces, Lemma 33.6.
On the other hand, properties (3) and (4) are spelled out in Morphisms of
Spaces, Lemma 33.7.
(3) Q =“locally of finite type”, R = ∅, and P =“unramified”. This is Morphisms of Spaces, Lemma 37.10.
(4) Q =“locally of finite presentation”, R =“flat and locally of finite presentation”, and P =“flat”. See More on Morphisms of Spaces, Theorem 19.1 and
Lemma 19.2. Note that here W (P, f ) is always exactly the set of points
where the morphism f is flat because we only consider this open when f
has Q (see loc.cit.).
(5) Q =“locally of finite presentation”, R =“flat and locally of finite presentation”, and P =“étale”. This follows on combining (3) and (4) because
an unramified morphism which is flat and locally of finite presentation is
étale, see Morphisms of Spaces, Lemma 38.12.
(6) Add more here as needed (compare with the longer list at More on Groupoids,
Remark 5.3).
10. Reduced algebraic stacks

0508

We have already defined reduced algebraic stacks in Section 7.

0509

Lemma 10.1. Let X be an algebraic stack. Let T ⊂ |X | be a closed subset. There
exists a unique closed substack Z ⊂ X with the following properties: (a) we have
|Z| = T , and (b) Z is reduced.
Proof. Let U → X be a surjective smooth morphism, where U is an algebraic
space. Set R = U ×X U , so that there is a presentation [U/R] → X , see Algebraic
Stacks, Lemma 16.2. As usual we denote s, t : R → U the two smooth projection
morphisms. By Lemma 4.5 we see that T corresponds to a closed subset T 0 ⊂ |U |
such that |s|−1 (T 0 ) = |t|−1 (T 0 ). Let Z ⊂ U be the reduced induced algebraic
space structure on T 0 , see Properties of Spaces, Definition 11.6. The fibre products
Z ×U,t R and R ×s,U Z are closed subspaces of R (Spaces, Lemma 12.3). The
projections Z ×U,t R → Z and R ×s,U Z → Z are smooth by Morphisms of Spaces,
Lemma 36.3. Thus as Z is reduced, it follows that Z ×U,t R and R ×s,U Z are
reduced, see Remark 7.3. Since
|Z ×U,t R| = |t|−1 (T 0 ) = |s|−1 (T 0 ) = R ×s,U Z
we conclude from the uniqueness in Properties of Spaces, Lemma 11.4 that Z ×U,t
R = R ×s,U Z. Hence Z is an R-invariant closed subspace of U . By the correspondence of Lemma 9.10 (and its proof) we obtain a closed substack Z ⊂ Z with
a presentation [Z/RZ ] → Z. Then |Z| = |Z|/|RZ | = |T 0 |/ ∼ is the given closed
subset T . We omit the proof of unicity.


PROPERTIES OF ALGEBRAIC STACKS

050A

23

Lemma 10.2. Let X be an algebraic stack. If X 0 ⊂ X is a closed substack, X is
reduced and |X 0 | = |X |, then X 0 = X .
Proof. Choose a presentation [U/R] → X with U a scheme. As X is reduced, we
see that U is reduced (by definition of reduced algebraic stacks). By Lemma 9.10
X 0 corresponds to an R-invariant closed subscheme Z ⊂ U . But now |Z| ⊂ |U |
is the inverse image of |X 0 |, and hence |Z| = |U |. Hence Z is a closed subscheme
of U whose underlying sets of points agree. By Schemes, Lemma 12.6 the map
idU : U → U factors through Z → U , and hence Z = U , i.e., X 0 = X .


050B

Lemma 10.3. Let X , Y be algebraic stacks. Let Z ⊂ X be a closed substack
Assume Y is reduced. A morphism f : Y → X factors through Z if and only if
f (|Y|) ⊂ |Z|.
Proof. Assume f (|Y|) ⊂ |Z|. Consider Y ×X Z → Y. There is an equivalence
Y ×X Z → Y 0 where Y 0 is a closed substack of Y, see Lemmas 9.2 and 9.9. Using
Lemmas 4.3, 8.5, and 9.5 we see that |Y 0 | = |Y|. Hence we have reduced the lemma
to Lemma 10.2.


050C

Definition 10.4. Let X be an algebraic stack. Let Z ⊂ |X | be a closed subset. An
algebraic stack structure on Z is given by a closed substack Z of X with |Z| equal
to Z. The reduced induced algebraic stack structure on Z is the one constructed
in Lemma 10.1. The reduction Xred of X is the reduced induced algebraic stack
structure on |X |.
In fact we can use this to define the reduced induced algebraic stack structure on
a locally closed subset.

06FK

Remark 10.5. Let X be an algebraic stack. Let T ⊂ |X | be a locally closed
subset. Let ∂T be the boundary of T in the topological space |X |. In a formula
∂T = T \ T.
Let U ⊂ X be the open substack of X with |U| = |X | \ ∂T , see Lemma 9.11. Let Z
be the reduced closed substack of U with |Z| = T obtained by taking the reduced
induced closed subspace structure, see Definition 10.4. By construction Z → U is
a closed immersion of algebraic stacks and U → X is an open immersion, hence
Z → X is an immersion of algebraic stacks by Lemma 9.3. Note that Z is a reduced
algebraic stack and that |Z| = T as subsets of |X|. We sometimes say Z is the
reduced induced substack structure on T .
11. Residual gerbes

06ML

In the stacks project we would like to define the residual gerbe of an algebraic stack
X at a point x ∈ |X | to be a monomorphism of algebraic stacks mx : Zx → X where
Zx is a reduced algebraic stack having a unique point which is mapped by mx to
x. It turns out that there are many issues with this notion; existence is not clear
in general and neither is uniqueness. We resolve the uniqueness issue by imposing
a slightly stronger condition on the algebraic stacks Zx . We discuss this in more
detail by working through a few simple lemmas regarding reduced algebraic stacks
having a unique point.

06MM

Lemma 11.1. Let Z be an algebraic stack. Let k be a field and let Spec(k) → Z
be surjective and flat. Then any morphism Spec(k 0 ) → Z where k 0 is a field is
surjective and flat.

PROPERTIES OF ALGEBRAIC STACKS

24

Proof. Consider the fibre square
T

/ Spec(k)


Spec(k 0 )


/Z

Note that T → Spec(k 0 ) is flat and surjective hence T is not empty. On the other
hand T → Spec(k) is flat as k is a field. Hence T → Z is flat and surjective. It
follows from Morphisms of Spaces, Lemma 30.5 (via the discussion in Section 3)
that Spec(k 0 ) → Z is flat. It is clear that it is surjective as by assumption |Z| is a
singleton.

06MN

Lemma 11.2. Let Z be an algebraic stack. The following are equivalent
(1) Z is reduced and |Z| is a singleton,
(2) there exists a surjective flat morphism Spec(k) → Z where k is a field, and
(3) there exists a locally of finite type, surjective, flat morphism Spec(k) → Z
where k is a field.
Proof. Assume (1). Let W be a scheme and let W → Z be a surjective smooth
morphism. Then W is a reduced scheme. Let η ∈ W be a generic point of an irreducible component of W . Since W is reduced we have OW,η = κ(η). It follows that
the canonical morphism η = Spec(κ(η)) → W is flat. We see that the composition
η → Z is flat (see Morphisms of Spaces, Lemma 29.3). It is also surjective as |Z|
is a singleton. In other words (2) holds.
Assume (2). Let W be a scheme and let W → Z be a surjective smooth morphism.
Choose a field k and a surjective flat morphism Spec(k) → Z. Then W ×Z Spec(k)
is an algebraic space smooth over k, hence regular (see Spaces over Fields, Lemma
9.1) and in particular reduced. Since W ×Z Spec(k) → W is surjective and flat we
conclude that W is reduced (Descent on Spaces, Lemma 8.2). In other words (1)
holds.
It is clear that (3) implies (2). Finally, assume (2). Pick a nonempty affine scheme
W and a smooth morphism W → Z. Pick a closed point w ∈ W and set k = κ(w).
The composition
w
Spec(k) −
→ W −→ Z
is locally of finite type by Morphisms of Spaces, Lemmas 23.2 and 36.6. It is also
flat and surjective by Lemma 11.1. Hence (3) holds.

The following lemma singles out a slightly better class of singleton algebraic stacks
than the preceding lemma.

06MP

Lemma 11.3. Let Z be an algebraic stack. The following are equivalent
(1) Z is reduced, locally Noetherian, and |Z| is a singleton, and
(2) there exists a locally finitely presented, surjective, flat morphism Spec(k) →
Z where k is a field.
Proof. Assume (2) holds. By Lemma 11.2 we see that Z is reduced and |Z| is
a singleton. Let W be a scheme and let W → Z be a surjective smooth morphism. Choose a field k and a locally finitely presented, surjective, flat morphism
Spec(k) → Z. Then W ×Z Spec(k) is an algebraic space smooth over k, hence locally

PROPERTIES OF ALGEBRAIC STACKS

25

Noetherian (see Morphisms of Spaces, Lemma 23.5). Since W ×Z Spec(k) → W is
flat, surjective, and locally of finite presentation, we see that {W ×Z Spec(k) → W }
is an fppf covering and we conclude that W is locally Noetherian (Descent on Spaces,
Lemma 8.3). In other words (1) holds.
Assume (1). Pick a nonempty affine scheme W and a smooth morphism W → Z.
Pick a closed point w ∈ W and set k = κ(w). Because W is locally Noetherian the
morphism w : Spec(k) → W is of finite presentation, see Morphisms, Lemma 20.7.
Hence the composition
w

Spec(k) −
→ W −→ Z
is locally of finite presentation by Morphisms of Spaces, Lemmas 28.2 and 36.5. It
is also flat and surjective by Lemma 11.1. Hence (2) holds.

06MQ

Lemma 11.4. Let Z 0 → Z be a monomorphism of algebraic stacks. Assume there
exists a field k and a locally finitely presented, surjective, flat morphism Spec(k) →
Z. Then either Z 0 is empty or Z 0 → Z is an equivalence.
Proof. We may assume that Z 0 is nonempty. In this case the fibre product T =
Z 0 ×Z Spec(k) is nonempty, see Lemma 4.3. Now T is an algebraic space and the
projection T → Spec(k) is a monomorphism. Hence T = Spec(k), see Morphisms of
Spaces, Lemma 10.8. We conclude that Spec(k) → Z factors through Z 0 . Suppose
the morphism z : Spec(k) → Z is given by the object ξ over Spec(k). We have
just seen that ξ is isomorphic to an object ξ 0 of Z 0 over Spec(k). Since z is is
surjective, flat, and locally of finite presentation we see that every object of Z over
any scheme is fppf locally isomorphic to a pullback of ξ, hence also to a pullback
of ξ 0 . By descent of objects for stacks in groupoids this implies that Z 0 → Z is
essentially surjective (as well as fully faithful, see Lemma 8.4). Hence we win. 

06MR

Lemma 11.5. Let Z be an algebraic stack. Assume Z satisfies the equivalent
conditions of Lemma 11.2. Then there exists a unique strictly full subcategory
Z 0 ⊂ Z such that Z 0 is an algebraic stack which satisfies the equivalent conditions
of Lemma 11.3. The inclusion morphism Z 0 → Z is a monomorphism of algebraic
stacks.
Proof. The last part is immediate from the first part and Lemma 8.4. Pick a field
k and a morphism Spec(k) → Z which is surjective, flat, and locally of finite type.
Set U = Spec(k) and R = U ×Z U . The projections s, t : R → U are locally of finite
type. Since U is the spectrum of a field, it follows that s, t are flat and locally of
finite presentation (by Morphisms of Spaces, Lemma 28.7). We see that Z 0 = [U/R]
is an algebraic stack by Criteria for Representability, Theorem 17.2. By Algebraic
Stacks, Lemma 16.1 we obtain a canonical morphism
f : Z 0 −→ Z
which is fully faithful. Hence this morphism is representable by algebraic spaces, see
Algebraic Stacks, Lemma 15.2 and a monomorphism, see Lemma 8.4. By Criteria
for Representability, Lemma 17.1 the morphism U → Z 0 is surjective, flat, and
locally of finite presentation. Hence Z 0 is an algebraic stack which satisfies the
equivalent conditions of Lemma 11.3. By Algebraic Stacks, Lemma 12.4 we may
replace Z 0 by its essential image in Z. Hence we have proved all the assertions of

PROPERTIES OF ALGEBRAIC STACKS

26

the lemma except for the uniqueness of Z 0 ⊂ Z. Suppose that Z 00 ⊂ Z is a second
such algebraic stack. Then the projections
Z 0 ←− Z 0 ×Z Z 00 −→ Z 00
are monomorphisms. The algebraic stack in the middle is nonempty by Lemma
4.3. Hence the two projections are isomorphisms by Lemma 11.4 and we win. 
06MS

Example 11.6. Here is an example where the morphism constructed in Lemma
11.5 isn’t an isomorphism. This example shows that imposing that residual gerbes
are locally Noetherian is necessary in Definition 11.8. In fact, the example is even
an algebraic space! Let Gal(Q/Q) be the absolute Galois group of Q with the
pro-finite topology. Let
U = Spec(Q) ×Spec(Q) Spec(Q) = Gal(Q/Q) × Spec(Q)
(we omit a precise explanation of the meaning of the last equal sign). Let G
denote the absolute Galois group Gal(Q/Q) with the discrete topology viewed as
a constant group scheme over Spec(Q), see Groupoids, Example 5.6. Then G acts
freely and transitively on U . Let X = U/G, see Spaces, Definition 14.4. Then X is
a non-noetherian reduced algebraic space with exactly one point. Furthermore, X
has a (locally) finite type point:
x : Spec(Q) −→ U −→ X
Indeed, every point of U is actually closed! As X is an algebraic space over Q it
follows that x is a monomorphism. So x is the morphism constructed in Lemma
11.5 but x is not an isomorphism. In fact Spec(Q) → X is the residual gerbe of X
at x.
It will turn out later that under mild assumptions on the algebraic stack X the
equivalent conditions of the following lemma are satisfied for every point x ∈ |X |
(insert future reference here).

06MT

Lemma 11.7. Let X be an algebraic stack. Let x ∈ |X | be a point. The following
are equivalent
(1) there exists an algebraic stack Z and a monomorphism Z → X such that
|Z| is a singleton and such that the image of |Z| in |X | is x,
(2) there exists a reduced algebraic stack Z and a monomorphism Z → X such
that |Z| is a singleton and such that the image of |Z| in |X | is x,
(3) there exists an algebraic stack Z, a monomorphism f : Z → X , and a
surjective flat morphism z : Spec(k) → Z where k is a field such that
x = f (z).
Moreover, if these conditions hold, then there exists a unique strictly full subcategory
Zx ⊂ X such that Zx is a reduced, locally Noetherian algebraic stack and |Zx | is a
singleton which maps to x via the map |Zx | → |X |.
Proof. If Z → X is as in (1), then Zred → X is as in (2). (See Section 10 for
the notion of the reduction of an algebraic stack.) Hence (1) implies (2). It is
immediate that (2) implies (1). The equivalence of (2) and (3) is immediate from
Lemma 11.2.
At this point we’ve seen the equivalence of (1) – (3). Pick a monomorphism f :
Z → X as in (2). Note that this implies that f is fully faithful, see Lemma 8.4.
Denote Z 0 ⊂ X the essential image of the functor f . Then f : Z → Z 0 is an

PROPERTIES OF ALGEBRAIC STACKS

27

equivalence and hence Z 0 is an algebraic stack, see Algebraic Stacks, Lemma 12.4.
Apply Lemma 11.5 to get a strictly full subcategory Zx ⊂ Z 0 as in the statement
of the lemma. This proves all the statements of the lemma except for uniqueness.
In order to prove the uniqueness suppose that Zx ⊂ X and Zx0 ⊂ X are two strictly
full subcategories as in the statement of the lemma. Then the projections
Zx0 ←− Zx0 ×X Zx −→ Zx
are monomorphisms. The algebraic stack in the middle is nonempty by Lemma
4.3. Hence the two projections are isomorphisms by Lemma 11.4 and we win. 
Having explained the above we can now make the following definition.
06MU

Definition 11.8. Let X be an algebraic stack. Let x ∈ |X |.
(1) We say the residual gerbe of X at x exists if the equivalent conditions (1),
(2), and (3) of Lemma 11.7 hold.
(2) If the residual gerbe of X at x exists, then the residual gerbe of X at x1 is
the strictly full subcategory Zx ⊂ X constructed in Lemma 11.7.
In particular we know that Zx (if it exists) is a locally Noetherian, reduced algebraic
stack and that there exists a field and a surjective, flat, locally finitely presented
morphism
Spec(k) −→ Zx .
We will see in Morphisms of Stacks, Lemma 19.10 that Zx is a gerbe. It turns out
that Zx is a regular algebraic stack as follows from the following lemma.

06MV

Lemma 11.9. A reduced, locally Noetherian algebraic stack Z such that |Z| is a
singleton is regular.
Proof. Let W → Z be a surjective smooth morphism where W is a scheme. Let k
be a field and let Spec(k) → Z be surjective, flat, and locally of finite presentation
(see Lemma 11.3). The algebraic space T = W ×Z Spec(k) is smooth over k in
particular regular, see Spaces over Fields, Lemma 9.1. Since T → W is locally of
finite presentation, flat, and surjective it follows that W is regular, see Descent on
Spaces, Lemma 8.4. By definition this means that Z is regular.


06MW

Lemma 11.10. Let X be an algebraic stack. Let x ∈ |X |. Assume that the residual
gerbe Zx of X exists. Let f : Spec(K) → X be a morphism where K is a field in the
equivalence class of x. Then f factors through the inclusion morphism Zx → X .
Proof. Choose a field k and a surjective flat locally finite presentation morphism
Spec(k) → Zx . Set T = Spec(K)×X Zx . By Lemma 4.3 we see that T is nonempty.
As Zx → X is a monomorphism we see that T → Spec(K) is a monomorphism.
Hence by Morphisms of Spaces, Lemma 10.8 we see that T = Spec(K) which proves
the lemma.

1This clashes with [LMB00] in spirit, but not in fact. Namely, in Chapter 11 they associate to
any point on any quasi-separated algebraic stack a gerbe (not necessarily algebraic) which they
call the residual gerbe. We will see in Morphisms of Stacks, Lemma 21.1 that on a quasi-separated
algebraic stack every point has a residual gerbe in our sense which is then equivalent to theirs.
For more information on this topic see [Ryd10, Appendix B].

PROPERTIES OF ALGEBRAIC STACKS

06MX

28

Lemma 11.11. Let X be an algebraic stack. Let x ∈ |X |. Let Z be an algebraic
stack satisfying the equivalent conditions of Lemma 11.3 and let Z → X be a
monomorphism such that the image of |Z| → |X | is x. Then the residual gerbe Zx
of X at x exists and Z → X factors as Z → Zx → X where the first arrow is an
equivalence.
Proof. Let Zx ⊂ X be the full subcategory corresponding to the essential image
of the functor Z → X . Then Z → Zx is an equivalence, hence Zx is an algebraic
stack, see Algebraic Stacks, Lemma 12.4. Since Zx inherits all the properties of Z
from this equivalence it is clear from the uniqueness in Lemma 11.7 that Zx is the
residual gerbe of X at x.

12. Dimension of a stack

0AFL

We can define the dimension of an algebraic stack X at a point x, using the notion
of dimension of an algebraic space at a point (Properties of Spaces, Definition 8.1).
In the following lemma the output may be ∞ either because X is not quasi-compact
or because we run into the phenomenon described in Examples, Section 14.

0AFM

Lemma 12.1. Let X be a locally Noetherian algebraic stack over a scheme S.
Let x ∈ |X | be a point of X . Let [U/R] → X be a presentation (Algebraic Stacks,
Definition 16.5) where U is a scheme. Let u ∈ U be a point that maps to x. Let
e : U → R be the “identity” map and let s : R → U be the “source” map, which is
a smooth morphism of algebraic spaces. Let Ru be the fiber of s : R → U over u.
The element
dimx (X ) = dimu (U ) − dime(u) (Ru ) ∈ Z ∪ ∞
is independent of the choice of presentation and the point u over x.
Proof. Since R → U is smooth, the scheme Ru is smooth over κ(u) and hence
has finite dimension. On the other hand, the scheme U is locally Noetherian, but
this does not guarantee that dimu (U ) is finite. Thus the difference is an element of
Z ∪ {∞}.
Let [U 0 /R0 ] → X and u0 ∈ U 0 be a second presentation where U 0 is a scheme and
u0 maps to x. Consider the algebraic space P = U ×X U 0 . By Lemma 4.3 there
exists a p ∈ |P | mapping to u and u0 . Since P → U and P 0 → U 0 are smooth we
see that dimp (P ) = dimu (U ) + dimp (Pu ) and dimp (P ) = dimu0 (U 0 ) + dimp (Pu0 ),
see Morphisms of Spaces, Lemma 36.9. Note that
Ru0 0 = Spec(κ(u0 )) ×X U 0

and Pu = Spec(κ(u)) ×X U 0

Let us represent p ∈ |P | by a morphism Spec(Ω) → P . Since p maps to both u and
u0 it induces a 2-morphism between the compositions Spec(Ω) → Spec(κ(u0 )) → X
and Spec(Ω) → Spec(κ(u)) → X which in turn defines an isomorphism
∼ Spec(Ω) ×Spec(κ(u)) Pu
Spec(Ω) ×Spec(κ(u0 )) R0 0 =
u

as algebraic spaces over Spec(Ω) mapping the Ω-rational point (1, e0 (u0 )) to (1, p)
(some details omitted). We conclude that
dime0 (u0 ) (Ru0 0 ) = dimp (Pu )
by Morphisms of Spaces, Lemma 33.3. By symmetry we have dime(u) Ru ) =
dimp (Pu0 ). Putting everything together we obtain the independence of choices. 
We can use the lemma above to make the following definition.

PROPERTIES OF ALGEBRAIC STACKS

0AFN

29

Definition 12.2. Let X be a locally Noetherian algebraic stack over a scheme S.
Let x ∈ |X | be a point of X . Let [U/R] → X be a presentation (Algebraic Stacks,
Definition 16.5) where U is a scheme and let u ∈ U be a point that maps to x. We
define the dimension of X at x to be the element dimx (X ) ∈ Z ∪ ∞ such that
dimx (X ) = dimu (U ) − dime(u) (Ru ).
with notation as in Lemma 12.1.
The dimension of a stack at a point agrees with the usual notion when X is a
scheme (Topology, Definition 9.1), or more generally when X is a locally Noetherian
algebraic space (Properties of Spaces, Definition 8.1).

0AFP

Definition 12.3. Let S be a scheme. Let X be a locally Noetherian algebraic
stack over S. The dimension dim(X ) of X is defined to be
dim(X ) = supx∈|X | dimx (X )
This definition of dimension agrees with the usual notion if X is a scheme (Properties, Lemma 10.2) or an algebraic space (Properties of Spaces, Definition 8.2).

0AFQ

Remark 12.4. If X is a nonempty stack of finite type over a field, then dim(X )
is an integer. For an arbitrary locally Noetherian algebraic stack X , dim(X ) is in
Z ∪ {±∞}, and dim(X ) = −∞ if and only if X is empty.

0AFR

Example 12.5. Let X be a scheme of finite type over a field k, and let G be a
group scheme of finite type over k which acts on X. Then the dimension of the
quotient stack [X/G] is equal to dim(X) − dim(G). In particular, the dimension
of the classifying stack BG = [Spec(k)/G] is − dim(G). Thus the dimension of an
algebraic stack can be a negative integer, in contrast to what happens for schemes
or algebraic spaces.
13. Other chapters
Preliminaries
(1)
(2)
(3)
(4)
(5)
(6)
(7)
(8)
(9)
(10)
(11)
(12)
(13)
(14)
(15)
(16)
(17)
(18)

Introduction
Conventions
Set Theory
Categories
Topology
Sheaves on Spaces
Sites and Sheaves
Stacks
Fields
Commutative Algebra
Brauer Groups
Homological Algebra
Derived Categories
Simplicial Methods
More on Algebra
Smoothing Ring Maps
Sheaves of Modules
Modules on Sites

(19)
(20)
(21)
(22)
(23)
(24)

Injectives
Cohomology of Sheaves
Cohomology on Sites
Differential Graded Algebra
Divided Power Algebra
Hypercoverings

Schemes
(25)
(26)
(27)
(28)
(29)
(30)
(31)
(32)
(33)
(34)
(35)
(36)

Schemes
Constructions of Schemes
Properties of Schemes
Morphisms of Schemes
Cohomology of Schemes
Divisors
Limits of Schemes
Varieties
Topologies on Schemes
Descent
Derived Categories of Schemes
More on Morphisms

PROPERTIES OF ALGEBRAIC STACKS

(37)
(38)
(39)
(40)

30

More on Flatness
Groupoid Schemes
More on Groupoid Schemes
Étale Morphisms of Schemes

Topics in Geometry
(68) Quotients of Groupoids
(69) Simplicial Spaces
(70) Formal Algebraic Spaces
(71) Restricted Power Series
Topics in Scheme Theory
(72) Resolution of Surfaces Revisited
(41) Chow Homology
Deformation Theory
(42) Intersection Theory
(73) Formal Deformation Theory
(43) Picard Schemes of Curves
(74) Deformation Theory
(44) Adequate Modules
(75) The Cotangent Complex
(45) Dualizing Complexes
(46) Algebraic Curves
Algebraic Stacks
(47) Resolution of Surfaces
(76) Algebraic Stacks
(48) Fundamental Groups of Schemes
(77) Examples of Stacks
(49) Étale Cohomology
(78) Sheaves on Algebraic Stacks
(50) Crystalline Cohomology
(79) Criteria for Representability
(51) Pro-étale Cohomology
(80) Artin’s Axioms
(81) Quot and Hilbert Spaces
Algebraic Spaces
(82) Properties of Algebraic Stacks
(52) Algebraic Spaces
(83) Morphisms of Algebraic Stacks
(53) Properties of Algebraic Spaces
(84) Cohomology of Algebraic Stacks
(54) Morphisms of Algebraic Spaces
(85) Derived Categories of Stacks
(55) Decent Algebraic Spaces
(86) Introducing Algebraic Stacks
(56) Cohomology of Algebraic Spaces
(87) More on Morphisms of Stacks
(57) Limits of Algebraic Spaces
Miscellany
(58) Divisors on Algebraic Spaces
(59) Algebraic Spaces over Fields
(88) Examples
(60) Topologies on Algebraic Spaces
(89) Exercises
(61) Descent and Algebraic Spaces
(90) Guide to Literature
(62) Derived Categories of Spaces
(91) Desirables
(63) More on Morphisms of Spaces
(92) Coding Style
(64) Pushouts of Algebraic Spaces
(93) Obsolete
(65) Groupoids in Algebraic Spaces
(94) GNU Free Documentation Li(66) More on Groupoids in Spaces
cense
(67) Bootstrap
(95) Auto Generated Index
References
[LMB00] Gérard Laumon and Laurent Moret-Bailly, Champs algébriques, Ergebnisse der Mathematik und ihrer Grenzgebiete. 3. Folge., vol. 39, Springer-Verlag, 2000.
[Ryd10] David Rydh, étale dévissage, descent and pushouts of stacks, math.AG/1005.2171v1
(2010).

